(function(e){"use strict";function s(){var t=e(window).height();e("#banner").css("height",t+"px")}function o(){e("#work-loader").css("display","none");e("#work-wrapper .close").fadeIn(800);e(".work-article").fadeIn(1e3);e("#work-wrapper").css("height","auto");e(".work-slider").bxSlider({slideWidth:1600,minSlides:1,maxSlides:1,video:true})}function a(e,t){e=e.toString();return e.length<t?a("0"+e,t):e}function c(){l=e(window).width();if(l<f){e("#blog-preview li .layer").css({top:"25%",left:"0",width:"100%",opacity:"1"})}else{e("#blog-preview li .layer").css({top:"40%",left:"-50%",width:"50%",opacity:"0"})}}function h(){e("#blog-loader").css("display","none");e("#blog-wrapper .close").fadeIn(800);e(".blog-article").fadeIn(1e3);e("#blog-wrapper").css("height","auto");e(".blog-slider").bxSlider({slideWidth:1600,minSlides:1,maxSlides:1,video:true})}function m(){v.fadeOut(250,function(){e(this).css("top","-1000px").css("left","-1000px")});e("#blind").fadeOut(250,function(){e(this).remove()})}function x(){var e=document.getElementById("map_canvas");var t=new google.maps.LatLng(53.4671376,-2.2343016);var n={center:t,zoom:18,mapTypeId:google.maps.MapTypeId.ROADMAP};var r=new google.maps.Map(e,n);var i=new google.maps.Marker({position:t,map:r,title:"School of Computer Science, University of Manchester"})}e(window).load(function(){e("#page-preloader").fadeOut(300)});var t=0;e("#open-nav").click(function(){if(t==0){e("#header").clearQueue().animate({left:"0"},500,"swing");e("#page-wrapper").clearQueue().animate({left:"260px"},500,"swing");t=1}else{e("#page-wrapper").clearQueue().animate({left:"0"},600,"easeOutBounce");e("#header").clearQueue().animate({left:"-260px"},600,"easeOutBounce");t=0}});e(".scrollto").click(function(){var t=0;e("html, body").clearQueue().animate({scrollTop:e(e.attr(this,"href")).offset().top-t},1800,"swing");return false});e("#main-navigation li a").click(function(){var t=0;e("html, body").clearQueue().animate({scrollTop:e(e.attr(this,"href")).offset().top-t},1800,"swing");return false});var n=e("#main-navigation"),r=n.find("a"),i=r.map(function(){var t=e(e(this).attr("href"));if(t.length){return t}});e(window).scroll(function(){var t=n.height();var s=e(this).scrollTop()+t+200;var o=i.map(function(){if(e(this).offset().top<s)return this});if(o.length){o=o[o.length-1];var u=o.attr("id")}else{var u=""}r.removeClass("active").filter("[href=#"+u+"]").addClass("active")});e(window).resize(function(){s()});e("#close-work-wrapper").click(function(){e("#work-wrapper").slideUp(1e3);e(".work-article").fadeOut(800)});e(document).on("click","#work-preview li a",function(){var t=e(window).height();var n="work/",r=e(this).attr("work-link"),i=r.replace(/[#\#]/g,"");if(e("#work-wrapper").is(":hidden")){e("#work-wrapper .close").hide();e("#work-loader").css("display","block");e("#load-work-content").html("");e("#work-wrapper").css("height",t+"px");e("#work-wrapper").slideDown(1e3);e("html, body").clearQueue().animate({scrollTop:e("#work-wrapper").offset().top},1400,function(){e("#load-work-content").load(n+i,function(){o()})})}else{var s=e("#work-wrapper").height();e("#work-wrapper").css("height",s+"px");e("#work-wrapper .close").fadeOut(800);e(".work-article").fadeOut(800);e("#work-loader").delay(850).fadeIn();e("html, body").clearQueue().animate({scrollTop:e("#work-wrapper").offset().top},1800,function(){e("#load-work-content").load(n+i,function(){o()})})}});var u=1;e("#work-load-more a").click(function(t){t.preventDefault();var n=e(".work-tabs > li.active").data("filter");var r=a(u,2);var i=e(location).attr("protocol");if(i=="file:"){alert('"The Buttons "Load More" not working if you open the index.html by double click and have a URL like file://../../index.html\n\nRun it on your localhost or online server and it will work.\n\nReason:\nBrowsers implement strong security measures to prevent downloaded web pages from accessing arbitrary files on the file system.')}e.get("work/load-more-"+r+".html",function(t){e(t).appendTo("#work-preview");e("#work-preview > li").each(function(){e(this).hoverdir()});if(n=="all"){e("#work-preview").mixitup()}else{e("#work-preview").mixitup("filter",n)}});u=u+1;r=a(u,2);e.get("work/load-more-"+r+".html").fail(function(){e("#work-load-more").hide()})});var f=965;var l=e(window).width();c();e(window).resize(function(){c()});e("#blog").on("mouseenter","#blog-preview li",function(){if(l>f){e(this).children(".layer").clearQueue().animate({left:"0",opacity:"1"},400)}});e("#blog").on("mouseleave","#blog-preview li",function(){if(l>f){e(this).children(".layer").clearQueue().animate({left:"-50%",opacity:"0"},400)}});e("#close-blog-wrapper").click(function(){e("#blog-wrapper").slideUp(1e3);e(".blog-article").fadeOut(800)});e("#blog").on("click","#blog-preview li a",function(){var t=e(window).height();var n="blog/",r=e(this).attr("blog-link"),i=r.replace(/[#\#]/g,"");if(e("#blog-wrapper").is(":hidden")){e("#blog-wrapper .close").hide();e("#blog-loader").css("display","block");e("#load-blog-content").html("");e("#blog-wrapper").css("height",t+"px");e("#blog-wrapper").slideDown(1e3);e("html, body").clearQueue().animate({scrollTop:e("#blog-wrapper").offset().top},1400,function(){e("#load-blog-content").load(n+i,function(){h()})})}else{var s=e("#blog-wrapper").height();e("#blog-wrapper").css("height",s+"px");e("#blog-wrapper .close").fadeOut(800);e(".blog-article").fadeOut(800);e("#blog-loader").delay(850).fadeIn();e("html, body").clearQueue().animate({scrollTop:e("#blog-wrapper").offset().top},1800,function(){e("#load-blog-content").load(n+i,function(){h()})})}});var p=4;var d=4;e.getJSON("http://greatunihack.co.uk/blog/get-found.php",function(e){d=e;});e("#blog-load-more a").click(function(t){t.preventDefault();var n=p;var r=e(location).attr("protocol");if(r=="file:"){alert('"The Buttons "Load More" not working if you open the index.html by double click and have a URL like file://../../index.html\n\nRun it on your localhost or online server and it will work.\n\nReason:\nBrowsers implement strong security measures to prevent downloaded web pages from accessing arbitrary files on the file system.')}e.get("blog/load-more.php?count="+n,function(t){e(t).appendTo("#blog-preview");c()});p=p+2;n=p;if(d-p<0){e("#blog-load-more").hide()}e.get("blog/load-more.php?count="+n).fail(function(){e("#blog-load-more").hide()})});var v;e("a.modalLink").click(function(t){t.preventDefault();var n=e(this).attr("href");v=e(".window"+n).css("opacity","0").css("top","50%").css("left","50%").fadeTo(500,1);e("#modal").append('<div id="blind" />').find("#blind").css("opacity","0").fadeTo(500,.8).click(function(e){m()})});e("a.close").click(function(e){e.preventDefault();m()});var g=(new Date("Mar 8, 2014 11:00:00")).getTime();var y,b,w,E;var S=document.getElementById("countdown");setInterval(function(){var e=(new Date).getTime();var t=(g-e)/1e3;y=parseInt(t/86400);t=t%86400;b=parseInt(t/3600);t=t%3600;w=parseInt(t/60);E=parseInt(t%60);S.innerHTML=y+" days, "+b+" hours, "+w+" minutes, "+E+" seconds"},1e3);google.maps.event.addDomListener(window,"load",x);e(".toggle-box .toggle .header").click(function(){if(e(this).parent(".toggle").children(".content").is(":hidden")){e(this).addClass("active");e(this).parent(".toggle").children(".content").slideDown();e(this).parent(".toggle").children(".header").children(".plus").css({display:"none"});e(this).parent(".toggle").children(".header").children(".minus").css({display:"inline-block"})}else{e(this).removeClass("active");e(this).parent(".toggle").children(".content").slideUp();e(this).parent(".toggle").children(".header").children(".plus").css({display:"inline-block"});e(this).parent(".toggle").children(".header").children(".minus").css({display:"none"})}});e(".skillbar").each(function(){var t=e(this).attr("data-percent");e(this).children(".percent-bg").css("width",t+"%")});e(".tab-content-navi").each(function(){var t=e(this).children("li:first-child").children("a");var n=t.attr("open-content");e("#"+n).css("display","block");t.addClass("active")});e(".tab-content-navi li a").click(function(){var t=e(this).attr("open-content");if(e("#"+t).is(":hidden")){var n=e(this).parent("li").parent("ul");n.children("li").each(function(){e(this).children("a").removeClass("active");var t=e(this).children("a").attr("open-content");e("#"+t).css("display","none")});e("#"+t).fadeIn(400);e(this).addClass("active")}});e(".alert-box .close").click(function(){e(this).parent(".alert-box ").fadeOut(350)});var T;e(".cleartext").focusin(function(){T=this.defaultValue;if(this.value==this.defaultValue){this.value=""}}).focusout(function(){if(e(this).val()==""){this.value=T}})})(jQuery)